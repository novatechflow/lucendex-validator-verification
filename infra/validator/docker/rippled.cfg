# XRPL rippled 2.6.1 — VALIDATOR (Lucendex)
# Goal: stable consensus node, tip-of-ledger only (no full history)
# Host ~24 GB RAM, container limit ~21 GiB, no swap (consider adding 2–4 GiB zram).

[server]
port_rpc_admin_local
port_peer
port_ws_admin_local

[port_rpc_admin_local]
port = 5005
ip = 127.0.0.1
admin = 127.0.0.1
protocol = http

[port_peer]
port = 51235
ip = 0.0.0.0
protocol = peer

[port_ws_admin_local]
port = 6006
ip = 127.0.0.1
admin = 127.0.0.1
protocol = ws

[database_path]
/var/lib/rippled/db

#-------------------------------------------------------------------------------

[node_size]
medium

[ledger_history]
2048
online_delete = 50000
advisory_delete = 0

[fetch_depth]
256

#-------------------------------------------------------------------------------

[node_db]
type         = RocksDB
path         = /var/lib/rippled/db
open_files   = 2500
# RocksDB block cache ~4–6 GiB; the rest is for rippled heaps, peers, buffers.
cache_mb     = 4096          
file_size_mb = 128
file_size_mult = 2
filter_bits  = 12

[debug_logfile]
/var/log/rippled/debug.log

[sntp_servers]
time.windows.com
time.apple.com
time.nist.gov
pool.ntp.org

#-------------------------------------------------------------------------------

[validator_list_sites]
https://vl.ripple.com
https://unl.xrplf.org

[validator_list_keys]
ED42AEC58B701EEBB77356FFFEC26F83C1F0407263530F068C7C73D392C7E06FD1  # XRPL Foundation
ED2677ABFFD1B33AC6FBC3062B71F1E8397C1505E1C42C64D11AD1B28FF73F4734  # Ripple (legacy)


# IMPORTANT: Validator should be private to avoid DoS / DDoS attacks, keep the ip list
# and use only trusted peers.

[ips_fixed]                     
3.67.69.93 51235
3.122.10.154 51235
13.217.54.238 51235
13.223.186.164 51235
18.192.214.178 51235
18.209.29.162 51235
23.90.158.213 51235
31.172.68.132 51235
34.207.238.88 51235
34.208.66.56 51235
35.158.172.184 51235
35.171.235.228 51235
52.24.175.136 51235
54.162.89.167 51235
54.184.34.78 51235
62.210.173.17 51235
65.108.68.161 51235
72.44.58.240 51235
78.46.46.121 51235
78.89.203.220 51235
79.110.60.144 51235
81.56.168.155 51235
98.179.40.228 51235
99.2.155.34 51235
178.156.164.160 51235
185.6.13.181 51235
205.209.113.250 51235
212.95.45.131 51235

#-------------------------------------------------------------------------------

[rpc_startup]
{ "command": "log_level", "severity": "warning" }

[ssl_verify]
1

[ssl_verify_file]
/etc/ssl/certs/ca-certificates.crt

[ssl_verify_dir]
/etc/ssl/certs

#-------------------------------------------------------------------------------

# Log rotation
[log_level]
warning
[log_rotation]
10
[log_file_max]
100MB

#-------------------------------------------------------------------------------

# Network settings
[overlay] 
public_ip_detect = 1 
max_peers        = 24
out_peers        = 24

[peer_private] 
1

[network_id]
# Mainnet (default)
# Leave commented for mainnet

#-------------------------------------------------------------------------------

# Storage optimization
# Note: online_delete configured in [node_db] section above

[advisory_delete]
0

#-------------------------------------------------------------------------------

# Fee voting (default values)
[voting]
reference_fee = 10
account_reserve = 10000000
owner_reserve = 2000000

#-------------------------------------------------------------------------------

# Performance monitoring
[insight]
server = 0
ledger = 0
manifest = 0
#-------------------------------------------------------------------------------
# Validator Token Configuration
# 
# DISABLED BY DEFAULT - Validator runs in tracking mode until enabled
# 
# To enable validation after sync:
#   cd infra/validator
#   make enable-validation
# 
# To disable validation:
#   cd infra/validator
#   make disable-validation
#-------------------------------------------------------------------------------

[validator_token]
eyJtYW5pZmVzdCI6IkpBQUFBQUZ4SWUyTjg0RnBxN09hR21aNTVHczlsS2JwenExTHlyTWRY
NjNXN3RRRGtlYmx5WE1oQTBCd2dlR2d4b3dIQzM2Yk1zc3RiTjlpN1ZXSStTUkVCUm1JZnF6
Q2VnZmpka2N3UlFJaEFNV3JudXdoYzhOV0dZaFVxMDZ0cFRVb0NnYlQrKzNmOUZENHR1VS9V
OVBsQWlCem1VY0NFcVNlNXpVck0rVDc4eVlNd2lzaDBtTFlKSmlveXJ2VGtVaHJXSEFTUU5F
R2RXS0xEK0dRZnVuSXdjenMxWXlDMkZTcGMwMkFKUEZ6MFVHVENRZVVURG1HRDVtZGljQzhj
MHdOelNyS3Y0OE1rdEhMb05HNUI0UDJ5SUNZaVFFPSIsInZhbGlkYXRpb25fc2VjcmV0X2tl
eSI6IkVBRTFFRUExNzU4Qjk0QzM2M0I4Q0ZCRjg3ODFENjA2QkVCNjMyNzcxQTQ0M0I3NEIx
NUY2NEE1RTM1NzBENjIifQ==
