# rippled.cfg - XRPL Validator Configuration
# Lucendex Production Validator
# Optimized for: 4 vCPU / 8GB RAM / 160GB SSD

[server]
port_rpc_admin_local
port_peer
port_ws_admin_local

[port_rpc_admin_local]
port = 5005
ip = 127.0.0.1
admin = 127.0.0.1
protocol = http

[port_peer]
port = 51235
ip = 0.0.0.0
protocol = peer

[port_ws_admin_local]
port = 6006
ip = 127.0.0.1
admin = 127.0.0.1
protocol = ws

#-------------------------------------------------------------------------------

[node_size]
# OPTIMIZED: small for 8GB RAM validator role
# (huge requires 32-64GB RAM and is for serving nodes, not validators)
small

[ledger_history]
256

[fetch_depth]
256

#-------------------------------------------------------------------------------

[node_db]
type=NuDB
path=/var/lib/rippled/db/nudb
advisory_delete=0
online_delete=2000
# TEMPORARY: Reduced from 2000 to 512 during initial sync
# Will restore to 2000 after reaching tip

[database_path]
/var/lib/rippled/db

[debug_logfile]
/var/log/rippled/debug.log

[sntp_servers]
time.windows.com
time.apple.com
time.nist.gov
pool.ntp.org

#-------------------------------------------------------------------------------

[validator_list_sites]
https://vl.ripple.com
https://unl.xrplf.org

[validator_list_keys]
ED42AEC58B701EEBB77356FFFEC26F83C1F0407263530F068C7C73D392C7E06FD1  # XRPL Foundation
ED2677ABFFD1B33AC6FBC3062B71F1E8397C1505E1C42C64D11AD1B28FF73F4734  # Ripple (legacy)


#TEMP: remove after you reach "full"
# [ips_fixed]
# 3.122.10.154 51235
# 3.67.69.93 51235
# 13.223.186.164 51235
# 13.217.54.238 51235
# 35.158.172.184 51235
# 52.24.175.136 51235
# 34.207.238.88 51235
# 54.162.89.167 51235

#-------------------------------------------------------------------------------

[rpc_startup]
{ "command": "log_level", "severity": "warning" }

[ssl_verify]
1

[ssl_verify_file]
/etc/ssl/certs/ca-certificates.crt

[ssl_verify_dir]
/etc/ssl/certs

#-------------------------------------------------------------------------------

# Log rotation
[log_level]
warning

[log_rotation]
10

[log_file_max]
50MB

#-------------------------------------------------------------------------------

# Network settings
[overlay]
public_ip_detect = 1

[peer_private]
0

[network_id]
# Mainnet (default)
# Leave commented for mainnet

#-------------------------------------------------------------------------------

# Storage optimization
# Note: online_delete configured in [node_db] section above

[advisory_delete]
0

# Compression
[compression]
true

#-------------------------------------------------------------------------------

# Path finding (conservative for validator role)
[path_search]
7

[path_search_fast]
2

[path_search_max]
10

#-------------------------------------------------------------------------------

# Fee voting (default values)
[voting]
reference_fee = 10
account_reserve = 10000000
owner_reserve = 2000000

#-------------------------------------------------------------------------------

# Performance monitoring
[insight]
server = 0
ledger = 0
manifest = 0
#-------------------------------------------------------------------------------
# Validator Token Configuration
# 
# DISABLED BY DEFAULT - Validator runs in tracking mode until enabled
# 
# To enable validation after sync:
#   cd infra/validator
#   make enable-validation
# 
# To disable validation:
#   cd infra/validator
#   make disable-validation
#-------------------------------------------------------------------------------

[validator_token]
eyJtYW5pZmVzdCI6IkpBQUFBQUZ4SWUyTjg0RnBxN09hR21aNTVHczlsS2JwenExTHlyTWRY
NjNXN3RRRGtlYmx5WE1oQTBCd2dlR2d4b3dIQzM2Yk1zc3RiTjlpN1ZXSStTUkVCUm1JZnF6
Q2VnZmpka2N3UlFJaEFNV3JudXdoYzhOV0dZaFVxMDZ0cFRVb0NnYlQrKzNmOUZENHR1VS9V
OVBsQWlCem1VY0NFcVNlNXpVck0rVDc4eVlNd2lzaDBtTFlKSmlveXJ2VGtVaHJXSEFTUU5F
R2RXS0xEK0dRZnVuSXdjenMxWXlDMkZTcGMwMkFKUEZ6MFVHVENRZVVURG1HRDVtZGljQzhj
MHdOelNyS3Y0OE1rdEhMb05HNUI0UDJ5SUNZaVFFPSIsInZhbGlkYXRpb25fc2VjcmV0X2tl
eSI6IkVBRTFFRUExNzU4Qjk0QzM2M0I4Q0ZCRjg3ODFENjA2QkVCNjMyNzcxQTQ0M0I3NEIx
NUY2NEE1RTM1NzBENjIifQ==
