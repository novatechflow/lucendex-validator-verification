# rippled.cfg - XRPL API Node Configuration
# Lucendex Data Services - API Node
# Optimized for: Fast RPC queries, low-latency responses
# Resources: Shares 6 vCPU / 16GB RAM / 320GB SSD

[server]
port_rpc
port_ws_public
port_peer

[fetch_depth]
512

[port_rpc]
port = 51234
ip = 0.0.0.0
admin = 127.0.0.1
protocol = http

[port_ws_public]
port = 6005
ip = 0.0.0.0
protocol = ws

[port_peer]
port = 51235
ip = 0.0.0.0
protocol = peer

#-------------------------------------------------------------------------------

[node_size]
# medium for 16GB RAM API serving role
medium

[ledger_history]
# Keep 256 recent ledgers for API queries
256

#-------------------------------------------------------------------------------

[node_db]
type=RocksDB
path=/var/lib/rippled/db/rocksdb
advisory_delete=0
online_delete=512

[database_path]
/var/lib/rippled/db

[debug_logfile]
/var/log/rippled/debug.log

[sntp_servers]
time.windows.com
time.apple.com
time.nist.gov
pool.ntp.org

#-------------------------------------------------------------------------------

[validator_list_sites]
https://vl.ripple.com
https://unl.xrplf.org

[validator_list_keys]
# XRPL Foundation (primary)
ED42AEC58B701EEBB77356FFFEC26F83C1F0407263530F068C7C73D392C7E06FD1
# Ripple (legacy)
ED2677ABFFD1B33AC6FBC3062B71F1E8397C1505E1C42C64D11AD1B28FF73F4734

#-------------------------------------------------------------------------------

[rpc_startup]
{ "command": "log_level", "severity": "warning" }

[ssl_verify]
1

[ssl_verify_file]
/etc/ssl/certs/ca-certificates.crt

[ssl_verify_dir]
/etc/ssl/certs

#-------------------------------------------------------------------------------

# Performance tuning for API serving (6 vCPU shared)
[io_workers]
4

[prefetch_workers]
2

[workers]
4

#-------------------------------------------------------------------------------

# Log rotation
[log_level]
warning

[log_rotation]
10

[log_file_max]
50MB

#-------------------------------------------------------------------------------

# Network settings
[overlay]
public_ip_detect = 1

[peer_private]
0

#-------------------------------------------------------------------------------

# Storage optimization
[online_delete]
2000

[advisory_delete]
0

# Compression
[compression]
true

#-------------------------------------------------------------------------------

# Path finding (optimized for API queries)
[path_search]
10

[path_search_fast]
4

[path_search_max]
15

#-------------------------------------------------------------------------------

# Fee voting (default values)
[voting]
reference_fee = 10
account_reserve = 10000000
owner_reserve = 2000000

#-------------------------------------------------------------------------------

# Performance monitoring
[insight]
server = 0
ledger = 0
manifest = 0
